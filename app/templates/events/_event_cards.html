{% for event in events %}
<div class="event-card">
    <div class="header">
        <h3 class="title">{{ event.title }}</h3>
        <span class="timestamp">{{ event.created_at }}</span>
    </div>
    <div class="type">{{ event.event_type|replace('_', ' ')|title }}</div>
    
    {% if event.description %}
    <div class="description">{{ event.description }}</div>
    {% endif %}
    
    <div class="meta">
        {% if event.asset %}
        <span>Asset: {{ event.asset }}</span>
        {% endif %}
        
        {% if event.location %}
        <span>Location: {{ event.location }}</span>
        {% endif %}
        
        {% if event.user %}
        <span>User: {{ event.user }}</span>
        {% endif %}
        
        <span>Created by: {{ event.creator }}</span>
    </div>
</div>
{% endfor %}

{% if has_next %}
<div class="event-card" data-load-more
     hx-get="{{ url_for('main.get_events', page=next_page, asset_id=request.args.get('asset_id'), location_id=request.args.get('location_id')) }}"
     hx-trigger="click"
     hx-swap="beforeend"
     hx-target="#event-list">
    <div class="loading-indicator">Loading more events...</div>
</div>
{% endif %} 