<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Action Creator Portal - Mockup</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
        .action-preview-card {
            border-left: 4px solid #0d6efd;
            background-color: #f8f9fa;
        }
        .template-item:hover, .proto-item:hover {
            background-color: #e9ecef;
            cursor: pointer;
        }
        .template-item.selected, .proto-item.selected {
            background-color: #cfe2ff;
            border-left: 4px solid #0d6efd;
        }
        .method-tab {
            border-bottom: 2px solid transparent;
        }
        .method-tab.active {
            border-bottom-color: #0d6efd;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container-fluid py-4">
        <!-- Modal Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h2 class="mb-0">
                    <i class="bi bi-plus-circle-fill text-primary"></i> Action Creator Portal
                </h2>
                <p class="text-muted mb-0">Create new maintenance actions from templates, proto actions, or blank</p>
            </div>
            <button type="button" class="btn btn-outline-secondary" disabled>
                <i class="bi bi-x-lg"></i> Close
            </button>
        </div>

        <div class="row">
            <!-- Left Column: Creation Method Selection & Search -->
            <div class="col-lg-5">
                <!-- Creation Method Tabs -->
                <ul class="nav nav-tabs mb-3" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link method-tab active" id="template-tab" data-bs-toggle="tab" data-bs-target="#template-pane" type="button" role="tab">
                            <i class="bi bi-file-earmark-text"></i> From Template
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link method-tab" id="proto-tab" data-bs-toggle="tab" data-bs-target="#proto-pane" type="button" role="tab">
                            <i class="bi bi-box"></i> From Proto Action
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link method-tab" id="current-tab" data-bs-toggle="tab" data-bs-target="#current-pane" type="button" role="tab">
                            <i class="bi bi-list-check"></i> From Current Action Set
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link method-tab" id="blank-tab" data-bs-toggle="tab" data-bs-target="#blank-pane" type="button" role="tab">
                            <i class="bi bi-file-plus"></i> Blank Action
                        </button>
                    </li>
                </ul>

                <!-- Tab Content -->
                <div class="tab-content">
                    <!-- Template Action Tab -->
                    <div class="tab-pane fade show active" id="template-pane" role="tabpanel">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">
                                    <i class="bi bi-file-earmark-text"></i> Select Template Action
                                </h5>
                            </div>
                            <div class="card-body">
                                <!-- Search -->
                                <div class="mb-3">
                                    <label for="templateSearch" class="form-label">Search Templates</label>
                                    <input type="text" class="form-control" id="templateSearch" placeholder="Type to filter by action name or description..." value="Inspect">
                                    <small class="text-muted">Searching template action sets and their action items</small>
                                </div>

                                <!-- Template Action Sets List -->
                                <div class="mb-3">
                                    <label class="form-label fw-bold">Template Action Sets</label>
                                    <div class="list-group" style="max-height: 300px; overflow-y: auto;">
                                        <div class="list-group-item template-item selected">
                                            <div class="d-flex justify-content-between align-items-start">
                                                <div>
                                                    <h6 class="mb-1">Monthly PM - Generator</h6>
                                                    <small class="text-muted">Template action set with 8 actions</small>
                                                </div>
                                                <span class="badge bg-primary">8 actions</span>
                                            </div>
                                        </div>
                                        <div class="list-group-item template-item">
                                            <div class="d-flex justify-content-between align-items-start">
                                                <div>
                                                    <h6 class="mb-1">Quarterly Inspection</h6>
                                                    <small class="text-muted">Template action set with 12 actions</small>
                                                </div>
                                                <span class="badge bg-primary">12 actions</span>
                                            </div>
                                        </div>
                                        <div class="list-group-item template-item">
                                            <div class="d-flex justify-content-between align-items-start">
                                                <div>
                                                    <h6 class="mb-1">Annual Overhaul</h6>
                                                    <small class="text-muted">Template action set with 25 actions</small>
                                                </div>
                                                <span class="badge bg-primary">25 actions</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Template Action Items List -->
                                <div>
                                    <label class="form-label fw-bold">Action Items in Selected Template</label>
                                    <div class="list-group" style="max-height: 300px; overflow-y: auto;">
                                        <div class="list-group-item template-item selected">
                                            <div class="d-flex justify-content-between align-items-start">
                                                <div>
                                                    <div class="d-flex align-items-center mb-1">
                                                        <span class="badge bg-secondary me-2">#3</span>
                                                        <h6 class="mb-0">Inspect Bearings</h6>
                                                    </div>
                                                    <small class="text-muted">Check bearing condition, temperature, and lubrication</small>
                                                    <div class="mt-1">
                                                        <span class="badge bg-info">Est: 0.5h</span>
                                                        <span class="badge bg-warning ms-1">Safety Notes</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="list-group-item template-item">
                                            <div class="d-flex justify-content-between align-items-start">
                                                <div>
                                                    <div class="d-flex align-items-center mb-1">
                                                        <span class="badge bg-secondary me-2">#4</span>
                                                        <h6 class="mb-0">Check Oil Level</h6>
                                                    </div>
                                                    <small class="text-muted">Verify oil level and condition</small>
                                                    <div class="mt-1">
                                                        <span class="badge bg-info">Est: 0.25h</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="list-group-item template-item">
                                            <div class="d-flex justify-content-between align-items-start">
                                                <div>
                                                    <div class="d-flex align-items-center mb-1">
                                                        <span class="badge bg-secondary me-2">#5</span>
                                                        <h6 class="mb-0">Test Run Generator</h6>
                                                    </div>
                                                    <small class="text-muted">Perform 30-minute test run under load</small>
                                                    <div class="mt-1">
                                                        <span class="badge bg-info">Est: 1.0h</span>
                                                        <span class="badge bg-warning ms-1">Safety Notes</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Proto Action Tab -->
                    <div class="tab-pane fade" id="proto-pane" role="tabpanel">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">
                                    <i class="bi bi-box"></i> Select Proto Action
                                </h5>
                            </div>
                            <div class="card-body">
                                <!-- Search -->
                                <div class="mb-3">
                                    <label for="protoSearch" class="form-label">Search Proto Actions</label>
                                    <input type="text" class="form-control" id="protoSearch" placeholder="Type to filter by action name or description..." value="">
                                    <small class="text-muted">Searching reusable proto action library</small>
                                </div>

                                <!-- Proto Actions List -->
                                <div class="list-group" style="max-height: 600px; overflow-y: auto;">
                                    <div class="list-group-item proto-item selected">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1">Replace Filter Element</h6>
                                                <small class="text-muted">Standard procedure for replacing filter elements</small>
                                                <div class="mt-1">
                                                    <span class="badge bg-info">Est: 0.5h</span>
                                                    <span class="badge bg-success ms-1">2 Parts</span>
                                                    <span class="badge bg-primary ms-1">1 Tool</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="list-group-item proto-item">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1">Lubricate Bearings</h6>
                                                <small class="text-muted">Apply appropriate lubricant to bearing surfaces</small>
                                                <div class="mt-1">
                                                    <span class="badge bg-info">Est: 0.25h</span>
                                                    <span class="badge bg-warning ms-1">Safety Notes</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="list-group-item proto-item">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1">Check Fluid Levels</h6>
                                                <small class="text-muted">Verify all fluid levels are within specifications</small>
                                                <div class="mt-1">
                                                    <span class="badge bg-info">Est: 0.3h</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="list-group-item proto-item">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1">Tighten Bolts</h6>
                                                <small class="text-muted">Torque all bolts to specification</small>
                                                <div class="mt-1">
                                                    <span class="badge bg-info">Est: 0.4h</span>
                                                    <span class="badge bg-primary ms-1">1 Tool</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="list-group-item proto-item">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1">Inspect Electrical Connections</h6>
                                                <small class="text-muted">Check for loose connections, corrosion, or damage</small>
                                                <div class="mt-1">
                                                    <span class="badge bg-info">Est: 0.5h</span>
                                                    <span class="badge bg-warning ms-1">Safety Notes</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Current Action Set Tab -->
                    <div class="tab-pane fade" id="current-pane" role="tabpanel">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">
                                    <i class="bi bi-list-check"></i> Select from Current Action Set
                                </h5>
                            </div>
                            <div class="card-body">
                                <!-- Search -->
                                <div class="mb-3">
                                    <label for="currentSearch" class="form-label">Search Current Actions</label>
                                    <input type="text" class="form-control" id="currentSearch" placeholder="Type to filter by action name or description..." value="">
                                    <small class="text-muted">Searching actions in the current maintenance event</small>
                                </div>

                                <!-- Current Actions List -->
                                <div class="list-group" style="max-height: 600px; overflow-y: auto;">
                                    <div class="list-group-item proto-item selected">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div class="flex-grow-1">
                                                <div class="d-flex align-items-center mb-1">
                                                    <span class="badge bg-secondary me-2">#2</span>
                                                    <h6 class="mb-0">Check Oil Level</h6>
                                                    <span class="badge bg-success ms-2">Complete</span>
                                                </div>
                                                <small class="text-muted">Verify oil level and condition. Check for contamination.</small>
                                                <div class="mt-1">
                                                    <span class="badge bg-info">Est: 0.25h</span>
                                                    <span class="badge bg-success ms-1">2 Parts</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="list-group-item proto-item">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div class="flex-grow-1">
                                                <div class="d-flex align-items-center mb-1">
                                                    <span class="badge bg-secondary me-2">#3</span>
                                                    <h6 class="mb-0">Inspect Bearings</h6>
                                                    <span class="badge bg-primary ms-2">In Progress</span>
                                                </div>
                                                <small class="text-muted">Check bearing condition, temperature, and lubrication</small>
                                                <div class="mt-1">
                                                    <span class="badge bg-info">Est: 0.5h</span>
                                                    <span class="badge bg-warning ms-1">Safety Notes</span>
                                                    <span class="badge bg-success ms-1">1 Part</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="list-group-item proto-item">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div class="flex-grow-1">
                                                <div class="d-flex align-items-center mb-1">
                                                    <span class="badge bg-secondary me-2">#4</span>
                                                    <h6 class="mb-0">Test Run Generator</h6>
                                                    <span class="badge bg-secondary ms-2">Not Started</span>
                                                </div>
                                                <small class="text-muted">Perform 30-minute test run under load conditions</small>
                                                <div class="mt-1">
                                                    <span class="badge bg-info">Est: 1.0h</span>
                                                    <span class="badge bg-warning ms-1">Safety Notes</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="list-group-item proto-item">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div class="flex-grow-1">
                                                <div class="d-flex align-items-center mb-1">
                                                    <span class="badge bg-secondary me-2">#5</span>
                                                    <h6 class="mb-0">Replace Air Filter</h6>
                                                    <span class="badge bg-success ms-2">Complete</span>
                                                </div>
                                                <small class="text-muted">Remove old filter and install new filter element</small>
                                                <div class="mt-1">
                                                    <span class="badge bg-info">Est: 0.3h</span>
                                                    <span class="badge bg-success ms-1">1 Part</span>
                                                    <span class="badge bg-primary ms-1">1 Tool</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="list-group-item proto-item">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div class="flex-grow-1">
                                                <div class="d-flex align-items-center mb-1">
                                                    <span class="badge bg-secondary me-2">#6</span>
                                                    <h6 class="mb-0">Lubricate Moving Parts</h6>
                                                    <span class="badge bg-secondary ms-2">Not Started</span>
                                                </div>
                                                <small class="text-muted">Apply appropriate lubricant to all moving components</small>
                                                <div class="mt-1">
                                                    <span class="badge bg-info">Est: 0.4h</span>
                                                    <span class="badge bg-success ms-1">1 Part</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="alert alert-info mt-3">
                                    <i class="bi bi-info-circle"></i> <strong>Note:</strong> Copying from current actions will duplicate the action including part demands and tools. Status will reset to "Not Started".
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Blank Action Tab -->
                    <div class="tab-pane fade" id="blank-pane" role="tabpanel">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">
                                    <i class="bi bi-file-plus"></i> Create Blank Action
                                </h5>
                            </div>
                            <div class="card-body">
                                <p class="text-muted">Create a new action from scratch. All fields will be empty and ready for manual entry.</p>
                                <div class="alert alert-info">
                                    <i class="bi bi-info-circle"></i> <strong>Note:</strong> You'll be able to fill in all action details after creation.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Preview & Configuration -->
            <div class="col-lg-7">
                <!-- Action Preview Card -->
                <div class="card mb-3 action-preview-card">
                    <div class="card-header bg-primary bg-opacity-10">
                        <h5 class="mb-0">
                            <i class="bi bi-eye"></i> Action Preview
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label fw-bold">Action Name</label>
                            <div class="p-2 bg-white border rounded">
                                Inspect Bearings
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-bold">Description</label>
                            <div class="p-2 bg-white border rounded">
                                Check bearing condition, temperature, and lubrication. Verify no unusual noise or vibration.
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Estimated Duration (hours)</label>
                                <div class="p-2 bg-white border rounded">
                                    0.5
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Expected Billable Hours</label>
                                <div class="p-2 bg-white border rounded">
                                    0.5
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-bold">Safety Notes</label>
                            <div class="p-2 bg-white border rounded">
                                Ensure equipment is powered off and locked out before inspection. Use appropriate PPE.
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-bold">Notes</label>
                            <div class="p-2 bg-white border rounded">
                                <em class="text-muted">No additional notes</em>
                            </div>
                        </div>

                        <!-- Part Demands Preview -->
                        <div class="mb-3">
                            <label class="form-label fw-bold">
                                <i class="bi bi-box-seam"></i> Part Demands (from template/proto/current action)
                            </label>
                            <div class="list-group">
                                <div class="list-group-item py-2">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <strong>Bearing Grease</strong>
                                            <span class="text-muted ms-2">x 0.5 units</span>
                                        </div>
                                        <span class="badge bg-info">Will be copied</span>
                                    </div>
                                </div>
                                <div class="list-group-item py-2">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <strong>Bearing Temperature Sensor</strong>
                                            <span class="text-muted ms-2">x 1 unit</span>
                                        </div>
                                        <span class="badge bg-info">Will be copied</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tools Preview -->
                        <div class="mb-3">
                            <label class="form-label fw-bold">
                                <i class="bi bi-tools"></i> Tools (from template/proto)
                            </label>
                            <div class="list-group">
                                <div class="list-group-item py-2">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <strong>Infrared Thermometer</strong>
                                        </div>
                                        <span class="badge bg-info">Will be copied</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Configuration Options -->
                <div class="card mb-3">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="bi bi-gear"></i> Configuration Options
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- Link to Source -->
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="linkToSource" checked>
                                <label class="form-check-label" for="linkToSource">
                                    <strong>Link to source template/proto action</strong>
                                </label>
                                <small class="form-text text-muted d-block">
                                    Maintains reference to original template/proto action for future updates
                                </small>
                            </div>
                        </div>

                        <!-- Copy Options -->
                        <div class="mb-3">
                            <label class="form-label fw-bold">Copy Options</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="copyPartDemands" checked>
                                <label class="form-check-label" for="copyPartDemands">
                                    Copy part demands from template/proto/current action
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="copyTools" checked>
                                <label class="form-check-label" for="copyTools">
                                    Copy tool requirements from template/proto/current action
                                </label>
                            </div>
                            <div class="form-check" id="copyExecutionData" style="display: none;">
                                <input class="form-check-input" type="checkbox" id="copyExecutionDataCheck">
                                <label class="form-check-label" for="copyExecutionDataCheck">
                                    Copy execution data (completion notes, billable hours) - <em>for current action set only</em>
                                </label>
                                <small class="form-text text-muted d-block">
                                    Only available when copying from current action set
                                </small>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="copySafetyNotes" checked>
                                <label class="form-check-label" for="copySafetyNotes">
                                    Copy safety notes
                                </label>
                            </div>
                        </div>

                        <!-- Position Selection -->
                        <div class="mb-3">
                            <label class="form-label fw-bold">Insert Position</label>
                            <select class="form-select" id="insertPosition">
                                <option value="end" selected>At the end (after last action)</option>
                                <option value="beginning">At the beginning (before first action)</option>
                                <option value="after">After specific action</option>
                            </select>
                            <small class="form-text text-muted d-block mt-1">
                                Choose where to insert the new action in the sequence
                            </small>
                        </div>

                        <!-- After Specific Action (conditional) -->
                        <div class="mb-3" id="afterActionSelect" style="display: none;">
                            <label class="form-label fw-bold">After Which Action?</label>
                            <select class="form-select">
                                <option value="">-- Select Action --</option>
                                <option value="1">#1 - Initial Inspection</option>
                                <option value="2">#2 - Check Oil Level</option>
                                <option value="3">#3 - Inspect Bearings</option>
                                <option value="4">#4 - Test Run Generator</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="card">
                    <div class="card-body">
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <button type="button" class="btn btn-outline-secondary" disabled>
                                <i class="bi bi-x-circle"></i> Cancel
                            </button>
                            <button type="button" class="btn btn-primary" disabled>
                                <i class="bi bi-plus-circle"></i> Create Action
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Simple tab switching (no actual functionality, just visual)
        document.getElementById('insertPosition').addEventListener('change', function() {
            const afterSelect = document.getElementById('afterActionSelect');
            if (this.value === 'after') {
                afterSelect.style.display = 'block';
            } else {
                afterSelect.style.display = 'none';
            }
        });
    </script>
</body>
</html>

